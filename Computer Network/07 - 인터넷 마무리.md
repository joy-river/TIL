### 손실과 지연

---

- 패킷들은 라우터의 버퍼에서 큐를 만들게 된다.

  - 만약 출력 링크의 용량보다도 패킷의 도착비율이 높다면, 큐가 꽉 차버려 나머지 패킷은 손실된다.

- 노드 간 지연은 총 4개의 지연의 합이다.

  - Process Delay

    - 패킷이 정상인지 체크하고, 어느 링크로 나갈지 결정하는데 쓴다.

    - 일반적으로 1 msec보다도 작다.

  - Queuing Delay

    - 링크에서 전송되기 전에 기다리는 시간이다.

    - 라우터의 밀집도에 따라 0 ~ 무한대의 지연이 걸린다.

  - Transmission Delay

    - 큐에서 링크에 실제로 패킷들을 얹는데 걸리는 시간이다.

    - 패킷 길이 / 링크 전송률(L / R)로 표기한다.

  - Propagation Delay

    - 다음 노드에 실제로 전파되는데 걸리는 시간이다.

    - 링크의 길이 / 전파 속도 (d / s)로 표기한다.

### Protocol layers and Reference models

---

- 네트워크들은 굉장히 복잡하며, 많은 부분으로 구성되어있다.

- 따라서 복잡한 시스템을 다룰 때, 여러 계층으로 구분 짓는다.

  - 명시적인 구조는 복잡한 시스템을 식별하고, 관계를 허용한다.

  - 모듈화를 통한 시스템의 유지보수, 업데이트가 용이해진다.

  - 한 계층에서 구현한 서비스를 변경해도, 다른 시스템에는 영향이 없다.

- 각 계층에서는 계층에 맞는 서비스를 구현해서 사용한다.

  - 각 서비스는 자기 아래 계층의 서비스에 의존한다.

### Internet protocol stack

---

- 총 5 계층으로 구성된 인터넷의 구조이다.

- OSI 7 계층에서 두 계층이 Application 계층에 통합된 모습이다.

  - Application, 응용 계층

    - 네트워크 응용프로그램을 지원한다.

    - IMAP, SMTP, HTTP등이 여기 속해있다.

  - Transport, 통신 계층

    - 프로세스간 데이터 전송을 담당한다.

    - TCP, UDP가 여기 속해있다.

  - Network, 네트워크 계층

    - Source to Destination의 데이터 라우팅을 담당한다.

    - IP, Routing Protocol이 여기 속해있다.

  - Link, 링크 계층

    - 이웃한 네트워크 원소 간 데이터 전송을 담당한다.

    - Ethernet, 802.11(WiFi), PPP등이 속해있다.

  - Physical, 물리 계층

    - 실제 회선을 통한 비트의 전송이 이뤄진다.

- 이 인터넷 프로토콜 스택을 위에서 아래로 내려오며 헤더를 붙여나간다.

  - 이를 캡슐화(Encapsulation)이라고 칭하며, 보내는 데이터는 payload라고 칭한다.

    - 아래 계층 입장에서는 위 계층의 헤더 + 데이터 모두가 payload가 된다.

  - 각 계층에서 수행한 정보가 담겨있다.

- 목적지나 라우터에서는 이 헤더를 아래에서 역으로 읽으며 데이터를 식별한다.

  - 이를 역 캡슐화라고 칭한다.

- OSI 7 reference model의 두 계층은 사라졌다.

  - Presentation, 표현 계층은 데이터를 해석하고, 그 의미를 표현하는 역할을 맡고 있었다.

  - Session, 세션 계층은 데이터를 동기화, 저장, 복구하는 역할을 맡고 있었다.

  - 이 계층들은 필요해질 경우 Application 계층에서 구현해야한다.

### 인터넷 역사

---

- 1961, Kleinrock이 패킷 스위칭의 큐잉 이론 제시

- 1969, ARPAnet 등장

- 1970, ALOHA

- 1974, Cerf and Kahn

  - Architecture for interconnecting networks에서 TCP/IP에 대해 씀.

  - 4가지 원칙.

    1. Minimalism, autonomy.

    - 무언가 변화하여 부작용이 발생하는 것을 막기 위해 미니멀한 구조로 만들자.

    - 네트워크들을 서로 연결하는데에 있어 내부적인 변화는 필요 없다.

    2. Best-effort service model

    - QoS와는 반대로 최선의 노력을 다하나, 어느것도 보장하지는 않는다.

    3. Stateless routing

    - 패킷 스위칭에선 패킷이 여러 경로를 지날 수 있으므로 라우팅이 필수적이다.

    - 이 라우팅을 상태가 없는 프로토콜이 담당해야한다(IP)

      - IP가 라우팅을 하면 패킷이 어디서 왔는지 알 필요가 없고, 이를 저장할 필요도 없다.

      - TCP는 반대로 상태를 가지는 프로토콜이다.

    4. Decentralized control

    - 중앙 집중이 아닌, 흩어져서 통제권을 가져라.

- 1974, Donald Knuth가 the Art of Computer Programming으로 튜링상 수상.

- 1976, 제록스 PARC에서 이더넷 개발

- 1970년대 후반, ATM 등장.

- 1979, 아파넷의 서버가 200개 달성.

- 1990, 아파넷이 해체되고 인터넷, Web이 등장했다.

- 1994, Mosaic과 Netscape의 등장

- 2000년대 초, 모자이크와 넷스케이프가 망하고 어플리케이션이 대거 등장했다.

- 2023년 올해에는 Avi Wigderson 교수가 튜링상 수상.
