### 소켓과 데이터 전송

---

- 소켓(Socket)이란 특정 프로토콜과 연결하기 위해 만들어진 연결부이다.

  - OSI 4 번째 계층과 연결하게 된다.

  - TCP/IP 소켓과 UDP 소켓으로 나뉘어진다.

- 크게 프로토콜, IP주소, 포트로 정의된다.

### 프로토콜이 뭔데?

---

- 인터넷에서 호스트들 사이의 의사소통 규약이다.

  > 프로토콜은 데이터의 포맷과 메시지가 오고가는 순서(시간), 데이터를 받았을 때 취할 액션을 정의한 것이다.

- 네트워크 프로토콜은 일종의 컴파일러이다.

  1. Lexical analyze = 어휘 분석

  2. Parsing tree = 문법

  3. Sementic = 시멘틱, 즉 코드의 의미

  - 네트워크의 헤더, 패킷의 덩어리가 들어오면 컴파일해서 각 부분을 해석하는 것이 프로토콜이다.

    - 특정 문법에 따라 작성하고,

    - 메시지를 특정 시간 내에 얼마나 많이 보낼 수 있는지와

    - 이벤트가 발생했을 때 취해야할 액션(시멘틱)을 정의한다.

### 데이터 교환 방식

---

- 데이터를 교환하는 방식은 크게 두 가지로 나뉘어진다.

  - 회선 교환(Circuit Switching)

  - 패킷 교환(Packet Switching)

- 회선 교환은 쌍방 통신 이전에 미리 전용 회선, 채널을 독점적으로 설정하는 방식이다.

  - 과거 전화선이나 2g에 사용된 기술이다.

  - 회건 교환의 장점은 실시간 통신에 유리하며, 안정적인 통신이 가능하다.

  - 단점으로는 대역폭이 남아도 다른 데이터를 보낼 수 없다 즉 네트워크 자원을 공유할 수 없으며 사용하지 않아도 채널이 점유된다.

  - Source와 Destination 사이의 콜에 종단간 자원이 할당된다.

### 패킷 교환

---

- 패킷이란?

  > 패킷 = Chunks of data = 데이터를 쪼갠 것.

  - 쪼갠 데이터를 여러 경로로 나눠서 보낼 수 있고, 도착지에서 합친다.

  - 패킷의 장점에는 대역폭이 남으면 다른 데이터를 보낼 수 있으며, 남는 리소스를 공유할 수 있다는 것이다.

  - 단점은 공유란 곧 경쟁이므로, 다수가 동시에 통신하려고 할 때 문제가 발생할 수 있다.

- Packet Encapsulation(패킷 캡슐화) / Layer Encapsulation (계층 캡슐화)

  - 패킷은 OSI 7 계층의 위에서부터 아래로 내려오면서 만들어진다.

    - 각 계층은 보내야 할 내용에 헤더를 붙여 아래 계층에 전달한다.

      - 이 헤더는 프로토콜에 맞는 내용을 담고있다.

      - 4 계층은 TCP 헤더를, 3 계층은 IP 헤더를 붙인다.

    - 전송된 패킷은 계층을 거슬러 올라가면서 헤더를 하나씩 제거한다.

    - 최종적으로 모든 헤더를 제거, 정보만 남기게 된다.

  - 즉, 패킷은 state를 가지는 개념이며, 상태 전이도를 그릴 수 있다.

  - 이 과정에서 중요한것이 바로 rdf(Reliable Data Tranfer)이다.

    - 응용 계층에서 전달된 데이터가 유실 없이 상대의 응용 계층까지 도달해야한다.
