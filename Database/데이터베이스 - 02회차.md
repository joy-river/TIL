### 데이터베이스 엔진
---
* 데이터의 상호작용은 트랜잭션(Transaction)이라고 한다.

    * 트랜잭션은 작업 하나의 단위가 되고, 명령을 잘라내거나 묶어서 만든다.

    * 이 작업도 원자성(Atomicity)을 보장해야한다.

        * Atomic = 하나가 되면 다 되고, 안되면 모두 안되게 해야한다.

* 데이터베이스 시스템의 가장 큰 역할을 크게 셋으로 나눌 수 있다.

    * 스토리지 매니저(Storage Manager)

        * 권한과 일관성(Integrity) 매니저이기도 하고, 트랜잭션 매니저, 파일 매니저, 버퍼 매니저 등으로 구성되어있음.

        * 데이터 딕셔너리를 구현하고, 색인을 관장하기도 함

            * 인덱싱, 색인(Indices)은 DBMS를 빠르게 하기 위한 수단으로, 각 데이터에 대한 빠른 접근을 도와줌

    * 쿼리 프로세서(Query Processor)

        * DDL과 DML을 실행하는 부분

            * SQL문장(요청, 쿼리)를 받아와서 Parsing하고 Translation한다.

            * 최적화(Optimization)하고, 평가(Evaluation, 실행 계획을 짜는 것)실행 -> Query output을 내놓는다.


### 데이터베이스 아키텍쳐
---
* DB 프로그램은 2티어, 3티어 아키텍쳐로 나뉘어있다.

    * 최근은 대부분이 3티어 웹 프로그램이다.(Web App Server, WAS)

* DBA(DB Administrator)

    * 동네북. DBMS는 편리함을 위한 것이지 속도를 위한 것이 아님.

        * 한 쪽의 오버헤드(지연)을 줄이면 다른 쪽이 늘어나는 경우가 많음
    
* 역사

    * 50~60년대에는 자기 테이프를 사용하다 60~70년대에 디스크가 등장함.

    * Ted Codd -> 관계형 데이터 모델을 정의해서 튜링상을 받음

    * 80년대에 객체 지향형이 등장했으나 죽었고

    * 2000년도에 빅데이터와 NoSQL(NoRelational)이 등장

    * 2010년도에 다 죽고 다시 SQL을 사용하는 중.

### 관계형 모델
---
* SQL = 관계형 모델이라고 봐도 될 정도로 대부분의 상용시스템은 관계형 모델을 사용함.

* 관계형 모델은 Logical level의 계층으로, Conceptual(인간 친화적)하다기 보다는 조금 더 기계 친화적인 모델이다.

* 그럼 대체 관계(Relation)은 무엇인가?

    * 수학에서 관계란 두 집합의 데카르트 곱(Cartesian Product)을 통해 곱집합을 구하고 그 곱집합의 부분집합들을 관계라고 정의함.

    * 데이터베이스의 관계도 거의 비슷한 의미이며, 관계란 단순한 테이블로 나타낼 수 있음.

        * 테이블의 한 행을 튜플(Tuple), 로우(Row), 레코드(Record)라고 칭함.

            * 만약 강의자(Instructor)에 대한 테이블에서 한 행은 한명의 교수자에 대한 정보를 담고있음.

                * id, name, dept_name, salary의 집합에서 하나씩 뽑아온 정보들이 담겨있음. ex)id = 241, name="jo", dept_name = "com_sci", salary=6000

        * 각 열을 속성(Attribute)라고 칭함.

            * 만약 강의자 테이블이 있다면, 그 테이블에 필요한 속성들의 집합이 있음

                * instructor_id, instuctor_name, instructor_dept_name, instructor_salary....

                * 속성 간의 순서는 중요하지 않음.

                * 대신 속성에는 속성에 들어갈 수 있는 허용가능한 값의 집합인 도메인(Domain)이 있음

                    * 이름 속성에는 12381, -1 등이 들어갈 수 없음

                    * 특별히 NULL값은 모든 도메인에 속하며, 사용자가 값을 입력하지 않아 모르는 상태임을 알려줌.
                
                * 또한 속성 값들은 더 이상 다른 속성으로 쪼갤 수 없으며, 여러 값을 넣어서도 안됨.

                    * 나이를 37로 적고 3 / 7 의 다른 속성으로 쪼갤 수 없음.

                    * 나이가 12면서 20일 수도 없음.

                    * 새로운 속성을 만들거나, 객체지향형 데이터베이스를 사용해야함.
                

    * 이러한 테이블을 정의하는 것이 바로 스키마, 스키마를 통해 실제 데이터를 담고 있는 것이 인스턴스이다.

        * 쉽게 얘기하면 스키마는 type, 인스턴스는 variable이다.

    * 관계 스키마는 R로 표기하며, 이는 속성들의 집합(Set of Attributes)로 정의할 수 있다.

        * R = {A1, A2, A3, A4 .... An}의 속성들이 순서와 관계없이 모여있음.

    * 관계 스키마 R로 찍어낸 인스턴스를 r로 표기한다.

        * 일반적으로 한 개의 R에 하나의 r만 사용한다.

        * r의 원소 t는 튜플, 로우, 레코드가 된다.

        * 인스턴스에는 순서가 없다(튜플끼리 순서를 따지지 않는다).

    * 따라서 관계를 우리는 튜플들의 집합(Set of Tuples)로 정의한다.

        * 순서는 없지만, 중복을 허용하지 않는다.

    * DB 스키마는 DB 전체의 논리적인 구조를 나타낸다.

        * DB에 속하는 모든 스키마들의 합

        * 모든 인스턴스의 합은 DB 인스턴스가 되며 DB를 특정시점에 찍은 스냅샷이 된다.

### 키(Keys)
---
